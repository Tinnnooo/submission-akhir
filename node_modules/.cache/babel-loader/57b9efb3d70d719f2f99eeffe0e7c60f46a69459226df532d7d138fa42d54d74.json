{"ast":null,"code":"import { ActionType } from './action';\nfunction threadsReducer() {\n  let threads = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n  let action = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  switch (action.type) {\n    case ActionType.RECEIVE_THREADS:\n      return action.payload.threads;\n    case ActionType.ADD_THREAD:\n      return [action.payload.thread, ...threads];\n    case ActionType.TOGGLE_UP_VOTE_THREAD:\n      return threads.map(thread => {\n        if (thread.id === action.payload.threadId) {\n          return {\n            ...thread,\n            upVotesBy: thread.upVotesBy.includes(action.payload.userId) ? thread.upVotesBy.filter(id => id !== action.payload.userId) : thread.upVotesBy.concat([action.payload.userId])\n          };\n        }\n        return thread;\n      });\n    case ActionType.TOGGLE_DOWN_VOTE_THREAD:\n      return threads.map(thread => {\n        if (thread.id === action.payload.threadId) {\n          return {\n            ...thread,\n            downVotesBy: thread.downVotesBy.includes(action.payload.userId) ? thread.downVotesBy.filter(id => id !== action.payload.userId) : thread.downVotesBy.concat([action.payload.userId])\n          };\n        }\n        return thread;\n      });\n    case ActionType.TOGGLE_NEUTRAL_UP_VOTE_THREAD:\n      return threads.map(thread => {\n        if (thread.id === action.payload.threadId) {\n          return {\n            ...thread,\n            upVotesBy: thread.upVotesBy.includes(action.payload.userId) && thread.upVotesBy.filter(id => id !== action.payload.userId)\n          };\n        }\n        return thread;\n      });\n    case ActionType.TOGGLE_NEUTRAL_DOWN_VOTE_THREAD:\n      return threads.map(thread => {\n        if (thread.id === action.payload.threadId) {\n          return {\n            ...thread,\n            downVotesBy: thread.downVotesBy.includes(action.payload.userId) && thread.downVotesBy.filter(id => id !== action.payload.userId)\n          };\n        }\n        return thread;\n      });\n    default:\n      return threads;\n  }\n}\nexport default threadsReducer;","map":{"version":3,"names":["ActionType","threadsReducer","threads","action","type","RECEIVE_THREADS","payload","ADD_THREAD","thread","TOGGLE_UP_VOTE_THREAD","map","id","threadId","upVotesBy","includes","userId","filter","concat","TOGGLE_DOWN_VOTE_THREAD","downVotesBy","TOGGLE_NEUTRAL_UP_VOTE_THREAD","TOGGLE_NEUTRAL_DOWN_VOTE_THREAD"],"sources":["C:/Users/Tin/redux/src/states/threads/reducer.js"],"sourcesContent":["import { ActionType } from './action';\r\n\r\nfunction threadsReducer(threads = [], action = {}) {\r\n  switch (action.type) {\r\n    case ActionType.RECEIVE_THREADS:\r\n      return action.payload.threads;\r\n    case ActionType.ADD_THREAD:\r\n      return [action.payload.thread, ...threads];\r\n    case ActionType.TOGGLE_UP_VOTE_THREAD:\r\n      return threads.map((thread) => {\r\n        if (thread.id === action.payload.threadId) {\r\n          return {\r\n            ...thread,\r\n            upVotesBy: thread.upVotesBy.includes(action.payload.userId)\r\n              ? thread.upVotesBy.filter((id) => id !== action.payload.userId)\r\n              : thread.upVotesBy.concat([action.payload.userId]),\r\n          };\r\n        }\r\n        return thread;\r\n      });\r\n    case ActionType.TOGGLE_DOWN_VOTE_THREAD:\r\n      return threads.map((thread) => {\r\n        if (thread.id === action.payload.threadId) {\r\n          return {\r\n            ...thread,\r\n            downVotesBy: thread.downVotesBy.includes(action.payload.userId)\r\n              ? thread.downVotesBy.filter((id) => id !== action.payload.userId)\r\n              : thread.downVotesBy.concat([action.payload.userId]),\r\n          };\r\n        }\r\n        return thread;\r\n      });\r\n    case ActionType.TOGGLE_NEUTRAL_UP_VOTE_THREAD:\r\n      return threads.map((thread) => {\r\n        if (thread.id === action.payload.threadId) {\r\n          return {\r\n            ...thread,\r\n            upVotesBy:\r\n              thread.upVotesBy.includes(action.payload.userId)\r\n              && thread.upVotesBy.filter((id) => id !== action.payload.userId),\r\n          };\r\n        }\r\n        return thread;\r\n      });\r\n    case ActionType.TOGGLE_NEUTRAL_DOWN_VOTE_THREAD:\r\n      return threads.map((thread) => {\r\n        if (thread.id === action.payload.threadId) {\r\n          return {\r\n            ...thread,\r\n            downVotesBy:\r\n              thread.downVotesBy.includes(action.payload.userId)\r\n              && thread.downVotesBy.filter((id) => id !== action.payload.userId),\r\n          };\r\n        }\r\n        return thread;\r\n      });\r\n    default:\r\n      return threads;\r\n  }\r\n}\r\n\r\nexport default threadsReducer;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}