{"ast":null,"code":"import { hideLoading, showLoading } from 'react-redux-loading-bar';\nimport api from '../../utils/api';\nconst ActionType = {\n  RECEIVE_THREAD_DETAIL: 'RECEIVE_THREAD_DETAIL',\n  CLEAR_THREAD_DETAIL: 'CLEAR_THREAD_DETAIL',\n  ADD_COMMENT: 'ADD_COMMENT',\n  TOGGLE_UP_VOTE_THREAD_DETAIL: 'TOGGLE_UP_VOTE_THREAD_DETAIL',\n  TOGGLE_DOWN_VOTE_THREAD_DETAIL: 'TOGGLE_DOWN_VOTE_THREAD_DETAIL',\n  TOGGLE_NEUTRAL_UP_VOTE_THREAD_DETAIL: 'TOGGLE_NEUTRAL_UP_VOTE_THREAD_DETAIL',\n  TOGGLE_NEUTRAL_DOWN_VOTE_THREAD_DETAIL: 'TOGGLE_NEUTRAL_DOWN_VOTE_THREAD_DETAIL'\n};\nfunction receiveThreadDetailActionCreator(threadDetail) {\n  return {\n    type: ActionType.RECEIVE_THREAD_DETAIL,\n    payload: {\n      threadDetail\n    }\n  };\n}\nfunction clearThreadDetailActionCreator() {\n  return {\n    type: ActionType.CLEAR_THREAD_DETAIL\n  };\n}\nfunction addCommentActionCreator(comment) {\n  return {\n    type: ActionType.ADD_COMMENT,\n    payload: {\n      comment\n    }\n  };\n}\nfunction toggleUpVoteThreadDetailActionCreator(_ref) {\n  let {\n    threadId,\n    userId\n  } = _ref;\n  return {\n    type: ActionType.TOGGLE_UP_VOTE_THREAD_DETAIL,\n    payload: {\n      threadId,\n      userId\n    }\n  };\n}\nfunction toggleDownVoteThreadDetailActionCreator(_ref2) {\n  let {\n    threadId,\n    userId\n  } = _ref2;\n  return {\n    type: ActionType.TOGGLE_DOWN_VOTE_THREAD_DETAIL,\n    payload: {\n      threadId,\n      userId\n    }\n  };\n}\nfunction toggleNeutralUpVoteThreadDetailActionCreator(_ref3) {\n  let {\n    threadId,\n    userId\n  } = _ref3;\n  return {\n    type: ActionType.TOGGLE_NEUTRAL_UP_VOTE_THREAD_DETAIL,\n    payload: {\n      threadId,\n      userId\n    }\n  };\n}\nfunction toggleNeutralDownVoteThreadDetailActionCreator(_ref4) {\n  let {\n    threadId,\n    userId\n  } = _ref4;\n  return {\n    type: ActionType.TOGGLE_NEUTRAL_DOWN_VOTE_THREAD_DETAIL,\n    payload: {\n      threadId,\n      userId\n    }\n  };\n}\nfunction asyncAddComment(_ref5) {\n  let {\n    content,\n    commentTo\n  } = _ref5;\n  return async dispatch => {\n    dispatch(showLoading());\n    try {\n      const comment = await api.createComment({\n        content,\n        commentTo\n      });\n      dispatch(addCommentActionCreator(comment));\n    } catch (error) {\n      alert(error.message);\n    }\n    dispatch(hideLoading());\n  };\n}\nfunction asyncReceiveThreadDetail(threadId) {\n  return async dispatch => {\n    dispatch(showLoading());\n    try {\n      const threadDetail = await api.getThreadDetail(threadId);\n      dispatch(receiveThreadDetailActionCreator(threadDetail));\n    } catch (error) {\n      alert(error.message);\n    }\n    dispatch(hideLoading());\n  };\n}\nfunction asyncToggleUpVoteThreadDetail(threadId) {\n  return async (dispatch, getState) => {\n    const {\n      authUser\n    } = getState();\n    dispatch(toggleUpVoteThreadDetailActionCreator({\n      threadId,\n      userId: authUser.id\n    }));\n    try {\n      await api.toggleUpVoteThread(threadId);\n    } catch (error) {\n      alert(error.message);\n      dispatch(toggleUpVoteThreadDetailActionCreator({\n        threadId,\n        userId: authUser.id\n      }));\n    }\n  };\n}\nfunction asyncToggleDownVoteThreadDetail(threadId) {\n  return async (dispatch, getState) => {\n    const {\n      authUser\n    } = getState();\n    dispatch(toggleDownVoteThreadDetailActionCreator({\n      threadId,\n      userId: authUser.id\n    }));\n  };\n}\nfunction asyncToggleNeutralUpVoteThreadDetail(threadId) {\n  return async (dispatch, getState) => {\n    const {\n      authUser\n    } = getState();\n    dispatch(toggleNeutralUpVoteThreadDetailActionCreator({\n      threadId,\n      userId: authUser.id\n    }));\n    try {\n      await api.toggleNeutralVoteThread(threadId);\n    } catch (error) {\n      alert(error.message);\n      dispatch(toggleNeutralUpVoteThreadDetailActionCreator({\n        threadId,\n        userId: authUser.id\n      }));\n    }\n  };\n}\nfunction asyncToggleNeutralDownVoteThreadDetail(threadId) {\n  return async (dispatch, getState) => {\n    const {\n      authUser\n    } = getState();\n    dispatch(toggleNeutralDownVoteThreadDetailActionCreator({\n      threadId,\n      userId: authUser.id\n    }));\n    try {\n      await api.toggleNeutralVoteThread(threadId);\n    } catch (error) {\n      alert(error.message);\n    }\n  };\n}\nexport { ActionType, receiveThreadDetailActionCreator, clearThreadDetailActionCreator, toggleUpVoteThreadDetailActionCreator, toggleDownVoteThreadDetailActionCreator, toggleNeutralUpVoteThreadDetailActionCreator, toggleNeutralDownVoteThreadDetailActionCreator, asyncReceiveThreadDetail, asyncAddComment, asyncToggleUpVoteThreadDetail, asyncToggleDownVoteThreadDetail, asyncToggleNeutralUpVoteThreadDetail, asyncToggleNeutralDownVoteThreadDetail, addCommentActionCreator };","map":{"version":3,"names":["hideLoading","showLoading","api","ActionType","RECEIVE_THREAD_DETAIL","CLEAR_THREAD_DETAIL","ADD_COMMENT","TOGGLE_UP_VOTE_THREAD_DETAIL","TOGGLE_DOWN_VOTE_THREAD_DETAIL","TOGGLE_NEUTRAL_UP_VOTE_THREAD_DETAIL","TOGGLE_NEUTRAL_DOWN_VOTE_THREAD_DETAIL","receiveThreadDetailActionCreator","threadDetail","type","payload","clearThreadDetailActionCreator","addCommentActionCreator","comment","toggleUpVoteThreadDetailActionCreator","threadId","userId","toggleDownVoteThreadDetailActionCreator","toggleNeutralUpVoteThreadDetailActionCreator","toggleNeutralDownVoteThreadDetailActionCreator","asyncAddComment","content","commentTo","dispatch","createComment","error","alert","message","asyncReceiveThreadDetail","getThreadDetail","asyncToggleUpVoteThreadDetail","getState","authUser","id","toggleUpVoteThread","asyncToggleDownVoteThreadDetail","asyncToggleNeutralUpVoteThreadDetail","toggleNeutralVoteThread","asyncToggleNeutralDownVoteThreadDetail"],"sources":["C:/Users/Tin/redux/src/states/threadDetail/action.js"],"sourcesContent":["import { hideLoading, showLoading } from 'react-redux-loading-bar';\r\nimport api from '../../utils/api';\r\n\r\nconst ActionType = {\r\n  RECEIVE_THREAD_DETAIL: 'RECEIVE_THREAD_DETAIL',\r\n  CLEAR_THREAD_DETAIL: 'CLEAR_THREAD_DETAIL',\r\n  ADD_COMMENT: 'ADD_COMMENT',\r\n  TOGGLE_UP_VOTE_THREAD_DETAIL: 'TOGGLE_UP_VOTE_THREAD_DETAIL',\r\n  TOGGLE_DOWN_VOTE_THREAD_DETAIL: 'TOGGLE_DOWN_VOTE_THREAD_DETAIL',\r\n  TOGGLE_NEUTRAL_UP_VOTE_THREAD_DETAIL: 'TOGGLE_NEUTRAL_UP_VOTE_THREAD_DETAIL',\r\n  TOGGLE_NEUTRAL_DOWN_VOTE_THREAD_DETAIL: 'TOGGLE_NEUTRAL_DOWN_VOTE_THREAD_DETAIL',\r\n};\r\n\r\nfunction receiveThreadDetailActionCreator(threadDetail) {\r\n  return {\r\n    type: ActionType.RECEIVE_THREAD_DETAIL,\r\n    payload: {\r\n      threadDetail,\r\n    },\r\n  };\r\n}\r\n\r\nfunction clearThreadDetailActionCreator() {\r\n  return {\r\n    type: ActionType.CLEAR_THREAD_DETAIL,\r\n  };\r\n}\r\n\r\nfunction addCommentActionCreator(comment) {\r\n  return {\r\n    type: ActionType.ADD_COMMENT,\r\n    payload: {\r\n      comment,\r\n    },\r\n  };\r\n}\r\n\r\nfunction toggleUpVoteThreadDetailActionCreator({ threadId, userId }) {\r\n  return {\r\n    type: ActionType.TOGGLE_UP_VOTE_THREAD_DETAIL,\r\n    payload: {\r\n      threadId,\r\n      userId,\r\n    },\r\n  };\r\n}\r\n\r\nfunction toggleDownVoteThreadDetailActionCreator({ threadId, userId }) {\r\n  return {\r\n    type: ActionType.TOGGLE_DOWN_VOTE_THREAD_DETAIL,\r\n    payload: {\r\n      threadId,\r\n      userId,\r\n    },\r\n  };\r\n}\r\n\r\nfunction toggleNeutralUpVoteThreadDetailActionCreator({ threadId, userId }) {\r\n  return {\r\n    type: ActionType.TOGGLE_NEUTRAL_UP_VOTE_THREAD_DETAIL,\r\n    payload: {\r\n      threadId,\r\n      userId,\r\n    },\r\n  };\r\n}\r\n\r\nfunction toggleNeutralDownVoteThreadDetailActionCreator({ threadId, userId }) {\r\n  return {\r\n    type: ActionType.TOGGLE_NEUTRAL_DOWN_VOTE_THREAD_DETAIL,\r\n    payload: {\r\n      threadId,\r\n      userId,\r\n    },\r\n  };\r\n}\r\n\r\nfunction asyncAddComment({ content, commentTo }) {\r\n  return async (dispatch) => {\r\n    dispatch(showLoading());\r\n\r\n    try {\r\n      const comment = await api.createComment({ content, commentTo });\r\n      dispatch(addCommentActionCreator(comment));\r\n    } catch (error) {\r\n      alert(error.message);\r\n    }\r\n    dispatch(hideLoading());\r\n  };\r\n}\r\n\r\nfunction asyncReceiveThreadDetail(threadId) {\r\n  return async (dispatch) => {\r\n    dispatch(showLoading());\r\n\r\n    try {\r\n      const threadDetail = await api.getThreadDetail(threadId);\r\n      dispatch(receiveThreadDetailActionCreator(threadDetail));\r\n    } catch (error) {\r\n      alert(error.message);\r\n    }\r\n    dispatch(hideLoading());\r\n  };\r\n}\r\n\r\nfunction asyncToggleUpVoteThreadDetail(threadId) {\r\n  return async (dispatch, getState) => {\r\n    const { authUser } = getState();\r\n    dispatch(toggleUpVoteThreadDetailActionCreator({ threadId, userId: authUser.id }));\r\n\r\n    try {\r\n      await api.toggleUpVoteThread(threadId);\r\n    } catch (error) {\r\n      alert(error.message);\r\n      dispatch(toggleUpVoteThreadDetailActionCreator({ threadId, userId: authUser.id }));\r\n    }\r\n  };\r\n}\r\n\r\nfunction asyncToggleDownVoteThreadDetail(threadId) {\r\n  return async (dispatch, getState) => {\r\n    const { authUser } = getState();\r\n    dispatch(toggleDownVoteThreadDetailActionCreator({ threadId, userId: authUser.id }));\r\n  };\r\n}\r\n\r\nfunction asyncToggleNeutralUpVoteThreadDetail(threadId) {\r\n  return async (dispatch, getState) => {\r\n    const { authUser } = getState();\r\n    dispatch(toggleNeutralUpVoteThreadDetailActionCreator({ threadId, userId: authUser.id }));\r\n\r\n    try {\r\n      await api.toggleNeutralVoteThread(threadId);\r\n    } catch (error) {\r\n      alert(error.message);\r\n      dispatch(toggleNeutralUpVoteThreadDetailActionCreator({ threadId, userId: authUser.id }));\r\n    }\r\n  };\r\n}\r\n\r\nfunction asyncToggleNeutralDownVoteThreadDetail(threadId) {\r\n  return async (dispatch, getState) => {\r\n    const { authUser } = getState();\r\n    dispatch(toggleNeutralDownVoteThreadDetailActionCreator({ threadId, userId: authUser.id }));\r\n\r\n    try {\r\n      await api.toggleNeutralVoteThread(threadId);\r\n    } catch (error) {\r\n      alert(error.message);\r\n    }\r\n  };\r\n}\r\n\r\nexport {\r\n  ActionType,\r\n  receiveThreadDetailActionCreator,\r\n  clearThreadDetailActionCreator,\r\n  toggleUpVoteThreadDetailActionCreator,\r\n  toggleDownVoteThreadDetailActionCreator,\r\n  toggleNeutralUpVoteThreadDetailActionCreator,\r\n  toggleNeutralDownVoteThreadDetailActionCreator,\r\n  asyncReceiveThreadDetail,\r\n  asyncAddComment,\r\n  asyncToggleUpVoteThreadDetail,\r\n  asyncToggleDownVoteThreadDetail,\r\n  asyncToggleNeutralUpVoteThreadDetail,\r\n  asyncToggleNeutralDownVoteThreadDetail,\r\n  addCommentActionCreator,\r\n};\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}